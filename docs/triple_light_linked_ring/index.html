<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‰å…‰é€£ç’°ã®å„€ å¯¾ç«‹ - Campaign Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <script src="data.js"></script>
</head>
<body>
    <!-- Header Navigation -->
    <header class="main-header">
      <div class="container">
        <nav class="main-nav">
          <a href="index.html" class="active">ğŸ  Dashboard</a>
          <a href="narrative.html">ğŸ“– Narrative</a>
          <a href="playlog.html">ğŸ“Š Playlog</a>
          <a href="worldmap.html">ğŸ—ºï¸ World Map</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Page Header -->
        <section class="campaign-overview">
            <h1>ğŸŒŸ ä¸‰å…‰é€£ç’°ã®å„€ å¯¾ç«‹</h1>
            <p class="subtitle">Silver Eclipse Cycle ã®å£®å¤§ãªç‰©èª - å…¨14ã‚¿ãƒ¼ãƒ³ã®ç¥è–ãªã‚‹å„€å¼ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³<br>
            æœˆè•ã®å¤œã€å¤ä»£ç¥æ®¿ã«éŸ¿ãè–æ­Œã¨é›·é³´ã€‚ä¸‰ã¤ã®ç¥æ®¿ã‚’å·¡ã‚‹ç¥è–ãªã‚‹æˆ¦ã„ã®ç‰©èªã€‚</p>
        </section>

        <!-- Ritual Progress Indicator -->
        <section class="card">
            <div class="ritual-progress">
                <h4>ğŸ”® ä¸‰å…‰é€£ç’°ã®å„€ é€²è¡ŒçŠ¶æ³</h4>
                <div class="progress-ring">
                    <div class="progress-step completed">
                        <div class="progress-circle">ğŸŒ…</div>
                        <div class="progress-label">ç¬¬ä¸€ç¯€<br>æ…°ã‚ã®ç¥ˆã‚Š</div>
                    </div>
                    <div class="progress-step completed">
                        <div class="progress-circle">ğŸ”¥</div>
                        <div class="progress-label">ç¬¬äºŒç¯€<br>ç‚ã®è©¦ç·´</div>
                    </div>
                    <div class="progress-step completed">
                        <div class="progress-circle">âš¡</div>
                        <div class="progress-label">ç¬¬ä¸‰ç¯€<br>åµã®çµç•Œ</div>
                    </div>
                </div>
                <p style="text-align: center; color: var(--auric-primary); font-weight: 600;">
                    å„€å¼å®Œæˆåº¦: 3/3 - ç¥è–ãªã‚‹è–ç´„ã®ç¢ºç«‹
                </p>
            </div>
        </section>

        <!-- ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³çµ±è¨ˆ -->
        <section class="card">
            <h3>ğŸ“Š ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³çµ±è¨ˆ</h3>
            <div class="campaign-stats">
                    <div class="stat-item">
                        <div class="stat-number">14</div>
                        <div class="stat-label">ã‚¿ãƒ¼ãƒ³</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">2</div>
                        <div class="stat-label">å‹¢åŠ›</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">7</div>
                        <div class="stat-label">åœ°åŸŸ</div>
                    </div>
                <div class="stat-item">
                    <div class="stat-number">7</div>
                    <div class="stat-label">ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼</div>
                </div>
            </div>
        </section>

            <!-- å‹¢åŠ›æ¦‚è¦ -->
            <section id="faction-overview" class="card">
                <h3>ğŸ›ï¸ å‹¢åŠ›æ¦‚è¦</h3>
                <div class="faction-grid">
                    <div class="faction-card auric">
                        <div class="faction-header">
                            <div class="faction-icon">ğŸŒŸ</div>
                            <div class="faction-info">
                                <h4>Auric Covenant</h4>
                                <h5>ã‚ªãƒ¼ãƒªãƒƒã‚¯å¥‘ç´„å›£</h5>
                                <p class="faction-result">ğŸ† ç¥è–å„€å¼å®Œé‚ãƒ»å‹åˆ©</p>
                            </div>
                        </div>
                        <div class="faction-details">
                            <p><strong>æ‹ ç‚¹</strong>: Moonweave Crossroads</p>
                            <p><strong>å°‚é–€</strong>: ç¥è–å„€å¼ã¨å¤–äº¤</p>
                            <p><strong>å“²å­¦</strong>: æ…é‡ãªåˆ†æã«åŸºã¥ãå”èª¿çš„æ°‘ä¸»åˆ¶ã«ã‚ˆã‚‹æ„æ€æ±ºå®š</p>
                            <p><strong>æœ€çµ‚å£«æ°—</strong>: 9.1 (å‹åˆ©)</p>
                        </div>
                        <div class="faction-members">
                            <div class="member">ğŸŒŸ High Cantor Selene</div>
                            <div class="member">ğŸ›¡ï¸ Warden Thalen</div>
                            <div class="member">ğŸ”® Oracle Lyra</div>
                            <div class="member">ğŸ“š Chronicler Iven</div>
                        </div>
                    </div>

                    <div class="faction-card veilbreak">
                        <div class="faction-header">
                            <div class="faction-icon">âš¡</div>
                            <div class="faction-info">
                                <h4>Veilbreak Sentinels</h4>
                                <h5>ãƒ´ã‚§ã‚¤ãƒ«ãƒ–ãƒ¬ã‚¤ã‚¯ç›£è¦–å›£</h5>
                                <p class="faction-result">âš–ï¸ å–„æˆ¦ã™ã‚‹ã‚‚é˜»æ­¢å¤±æ•—</p>
                            </div>
                        </div>
                        <div class="faction-details">
                            <p><strong>æ‹ ç‚¹</strong>: Ashen Ramparts</p>
                            <p><strong>å°‚é–€</strong>: æˆ¦è¡“å¦¨å®³ã¨å°é–ä½œæˆ¦</p>
                            <p><strong>å“²å­¦</strong>: ç›´æ¥æŒ‡æ®ã«ã‚ˆã‚‹è¨ˆç®—ã•ã‚ŒãŸå¥‡è¥²ã€è»äº‹ç¬¦ä¸ã§ã®å³æ–­å³æ±º</p>
                            <p><strong>æœ€çµ‚å£«æ°—</strong>: 7.3 (æ•—åŒ—)</p>
                        </div>
                        <div class="faction-members">
                            <div class="member">âš¡ Captain Raxen</div>
                            <div class="member">ğŸŒ™ Shade Operative Nyx</div>
                            <div class="member">âš”ï¸ Oathbreaker Varek</div>
                        </div>
                    </div>
                </div>
            </section>

        <!-- é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ -->
        <section class="card">
            <h3>âš¡ é‡è¦ã‚¤ãƒ™ãƒ³ãƒˆ</h3>
            <div class="events-timeline">
                <div class="event-item">
                    <div class="event-turn">ã‚¿ãƒ¼ãƒ³ 2</div>
                    <div class="event-content">
                        <h4>ç¬¬ä¸€ç¯€å®Œé‚</h4>
                        <p>Solace Sanctumã§ä¸‰å…‰é€£ç’°ã®ç¬¬ä¸€ç¯€ã‚’å¥ã§ã‚‹ã€‚å„€å¼é€²è¡Œåº¦1/3é”æˆã€è¿‚å›è·¯ç™ºè¦‹ã€‚</p>
                    </div>
                </div>

                <div class="event-item">
                    <div class="event-turn">ã‚¿ãƒ¼ãƒ³ 3</div>
                    <div class="event-content">
                        <h4>é»„æ˜æ¡ˆå†…äººã¨ã®èª“ç´„</h4>
                        <p>éœ§ã®æ£®ã§æ¡ˆå†…äººã¨åŒç›Ÿã‚’çµã³ã€éœ§è·¯ã®å®‰å…¨é€šè¡Œæ¨©ã‚’ç²å¾—ã€‚è¿‚å›è·¯ç¢ºä¿æˆåŠŸã€‚</p>
                    </div>
                </div>

                <div class="event-item">
                    <div class="event-turn">ã‚¿ãƒ¼ãƒ³ 10</div>
                    <div class="event-content">
                        <h4>ç¬¬äºŒç¯€å®Œé‚ã¨ç‚é¢¨æ”»é˜²</h4>
                        <p>Embershroud Basilicaã§ç›£è¦–å›£çªæ’ƒã‚’çµç•Œã§æ’ƒé€€ã€ç¬¬äºŒç¯€å®Œé‚ã€‚å„€å¼é€²è¡Œåº¦2/3é”æˆã€‚</p>
                    </div>
                </div>

                <div class="event-item">
                    <div class="event-turn">ã‚¿ãƒ¼ãƒ³ 14</div>
                    <div class="event-content">
                        <h4>ä¸‰å…‰é€£ç’°ã®å®Œæˆ</h4>
                        <p>Stormspire Templeã§æœ€çµ‚æ±ºæˆ¦ã€‚å…‰ã®å‹åˆ©ã«ã‚ˆã‚Šè–ç´„ãŒå®Œæˆã€‚ã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³å®Œäº†ã€‚</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ -->
        <section class="card">
            <h3>ğŸ“ ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³</h3>
            <div class="navigation-grid">
                <div class="nav-item">
                    <a href="narrative.html" class="nav-link">
                        <div class="nav-icon">ğŸ“–</div>
                        <div class="nav-content">
                            <h4>ãƒŠãƒ©ãƒ†ã‚£ãƒ–ãƒªãƒ—ãƒ¬ã‚¤</h4>
                            <p>ç‰©èªå½¢å¼ã§æã‹ã‚ŒãŸå†’é™ºã®è¨˜éŒ²ã€‚ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®å°è©ã¨è¡Œå‹•ã‚’è©³ç´°ã«è¿½ä½“é¨“ã€‚</p>
                        </div>
                    </a>
                </div>

                <div class="nav-item">
                    <a href="playlog.html" class="nav-link">
                        <div class="nav-icon">ğŸ“Š</div>
                        <div class="nav-content">
                            <h4>ãƒ—ãƒ¬ã‚¤ãƒ­ã‚°åˆ†æ</h4>
                            <p>æ•°å€¤ãƒ‡ãƒ¼ã‚¿ã¨çµ±è¨ˆã§è¦‹ã‚‹æˆ¦æ³åˆ†æã€‚å£«æ°—å¤‰å‹•ã€ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†ã€æˆ¦ç•¥çš„è¦ç‚¹ã‚’æŠŠæ¡ã€‚</p>
                        </div>
                    </a>
                </div>

                <div class="nav-item">
                    <a href="worldmap.html" class="nav-link">
                        <div class="nav-icon">ğŸ—ºï¸</div>
                        <div class="nav-content">
                            <h4>ä¸–ç•Œãƒãƒƒãƒ—</h4>
                            <p>åœ°åŸŸæƒ…å ±ã¨æˆ¦ç•¥ä¾¡å€¤ã€å‹¢åŠ›åœã®å¤‰é·ã€‚åœ°ç†çš„ãªèƒŒæ™¯ã¨æˆ¦è¡“çš„æ„å‘³ã‚’ç†è§£ã€‚</p>
                        </div>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <p>Universal Narrative Engine (UNE) - Triple Light Linked Ring Campaign</p>
    </footer>

    <script>
        // Turn selector functionality
        document.getElementById('turnSelect').addEventListener('change', function() {
            const turnNum = this.value;
            if (turnNum) {
                // Store selected turn in sessionStorage for cross-page navigation
                sessionStorage.setItem('selectedTurn', turnNum);
                // Navigate to narrative page with turn anchor
                window.location.href = `narrative.html#turn-${turnNum}`;
            }
        });

        // Character and location hover tooltips
        document.addEventListener('DOMContentLoaded', function() {
            // Character tooltips
            document.querySelectorAll('.character').forEach(el => {
                el.addEventListener('mouseenter', function() {
                    const name = this.dataset.name;
                    if (campaignData.characters[name]) {
                        const char = campaignData.characters[name];
                        this.setAttribute('data-tooltip',
                            `${char.name} (${char.role}): ${char.description}ã€‚å°‚é–€åˆ†é‡: ${char.specialties ? char.specialties.join('ã€') : 'ä¸æ˜'}`);
                        this.classList.add('tooltip');
                    }
                });
            });

            // Location tooltips
            document.querySelectorAll('.location').forEach(el => {
                el.addEventListener('mouseenter', function() {
                    const region = this.dataset.region;
                    if (campaignData.locations[region]) {
                        const loc = campaignData.locations[region];
                        this.setAttribute('data-tooltip',
                            `${loc.name} (${loc.type}): ${loc.specialEffect}ã€‚æˆ¦ç•¥ä¾¡å€¤: ${loc.strategicValue}`);
                        this.classList.add('tooltip');
                    }
                });
            });

            // Resource tooltips
            document.querySelectorAll('.resource').forEach(el => {
                el.addEventListener('mouseenter', function() {
                    const resourceType = this.dataset.type;
                    const text = this.textContent.trim();
                    // Extract resource name from text (e.g., "é¦™æŸÃ—6" -> "incense")
                    let resourceKey = null;
                    if (text.includes('é¦™æŸ')) resourceKey = 'incense';
                    else if (text.includes('å¤ªé™½æ¬ ç‰‡')) resourceKey = 'sun_fragment';
                    else if (text.includes('å®ˆè­·å·»ç‰©')) resourceKey = 'guardian_scroll';
                    else if (text.includes('å…‰èŠ±æ¨¹è„‚')) resourceKey = 'light_resin';
                    else if (text.includes('å½±ç¸›è–¬')) resourceKey = 'shadow_poison';
                    else if (text.includes('é è¦‹é¡')) resourceKey = 'far_sight';
                    else if (text.includes('è£œçµ¦ç³§')) resourceKey = 'supply_ration';

                    if (resourceKey && campaignData.resources[resourceKey]) {
                        const resource = campaignData.resources[resourceKey];
                        this.setAttribute('data-tooltip',
                            `${resource.nameJa}: ${resource.description}`);
                        this.classList.add('tooltip');
                    }
                });
            });

            // Spell and tactic tooltips
            document.querySelectorAll('.spell, .tactic').forEach(el => {
                el.addEventListener('mouseenter', function() {
                    const text = this.textContent.trim();
                    let tacticsKey = null;
                    if (text.includes('å„€å¼é›†ä¸­')) tacticsKey = 'ritual_chanting';
                    else if (text.includes('ç¥ˆã‚Šã®å…±é³´')) tacticsKey = 'ritual_chanting';
                    else if (text.includes('ç©ºä¸­çµç•Œ')) tacticsKey = 'light_barrier';
                    else if (text.includes('è¦å¡åŒ–é–€æ‰‰')) tacticsKey = 'guardian_formation';
                    else if (text.includes('éš å¯†çµŒè·¯')) tacticsKey = 'shadow_snare';
                    else if (text.includes('ç ´å£Šå·¥ä½œ')) tacticsKey = 'shadow_stakes';

                    if (tacticsKey && campaignData.tacticsAndMagic[tacticsKey]) {
                        const tactic = campaignData.tacticsAndMagic[tacticsKey];
                        this.setAttribute('data-tooltip',
                            `${tactic.name}: ${tactic.description}`);
                        this.classList.add('tooltip');
                    }
                });
            });
        });
    </script>
</body>
</html>