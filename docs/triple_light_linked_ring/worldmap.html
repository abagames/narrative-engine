<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triple‑Light Linked Ring – World Map</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header Navigation -->
    <header class="main-header">
      <div class="container">
        <nav class="main-nav">
          <a href="index.html">🏠 Dashboard</a>
          <a href="narrative.html">📖 Narrative</a>
          <a href="playlog.html">📊 Playlog</a>
          <a href="worldmap.html" class="active">🗺️ World Map</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Page Header -->
        <section class="campaign-overview">
            <h1>🗺️ Triple‑Light Linked Ring – World Map</h1>
            <p class="subtitle">Interactive map & strategic analysis — the sacred struggle across seven regions</p>
        </section>

        <!-- Interactive World Map -->
        <section id="interactive-map" class="card">
            <h3>🗺️ World Map</h3>
            <div style="display: flex; justify-content: center; margin: 2rem 0;">
                <svg width="100%" height="600" viewBox="0 0 900 600" class="world-map-svg">
                    <!-- Background -->
                    <rect width="900" height="600" fill="#1a1a2e" stroke="none"/>

                    <!-- Connection Lines -->
                    <g class="connections" stroke="#444" stroke-width="2" fill="none">
                        <!-- Moonweave Connections -->
                        <line x1="150" y1="150" x2="350" y2="50" class="connection"/>
                        <line x1="150" y1="150" x2="150" y2="250" class="connection"/>
                        <line x1="150" y1="150" x2="550" y2="250" class="connection"/>

                        <!-- Solace Sanctum Connections -->
                        <line x1="350" y1="50" x2="550" y2="150" class="connection"/>

                        <!-- Verdant Outskirts Connections -->
                        <line x1="150" y1="250" x2="150" y2="400" class="connection"/>
                        <line x1="150" y1="250" x2="550" y2="400" class="connection"/>

                        <!-- Ashen Ramparts Connections -->
                        <line x1="550" y1="250" x2="550" y2="150" class="connection"/>
                        <line x1="550" y1="250" x2="150" y2="400" class="connection"/>
                        <line x1="550" y1="250" x2="550" y2="400" class="connection"/>

                        <!-- Stormspire Temple Connections -->
                        <line x1="550" y1="150" x2="550" y2="400" class="connection"/>

                        <!-- Veilborn Way Connections -->
                        <line x1="150" y1="400" x2="550" y2="400" class="connection"/>

                        <!-- Secret Path (Mist Road) -->
                        <line x1="150" y1="250" x2="550" y2="400" stroke="#666" stroke-width="2" stroke-dasharray="5,5" class="hidden-path"/>
                    </g>

                    <!-- Regional Nodes -->
                    <g class="regions">
                        <!-- Moonweave Crossroads -->
                        <circle cx="150" cy="150" r="35" class="region auric"/>
                        <text x="150" y="155" text-anchor="middle" class="region-label">💰</text>
                        <text x="150" y="190" text-anchor="middle" class="region-name">Moonweave Crossroads</text>

                        <!-- Solace Sanctum -->
                        <circle cx="350" cy="50" r="30" class="region neutral"/>
                        <text x="350" y="55" text-anchor="middle" class="region-label">🏛️</text>
                        <text x="350" y="90" text-anchor="middle" class="region-name">Solace Sanctum</text>

                        <!-- Stormspire Temple -->
                        <circle cx="550" cy="150" r="30" class="region neutral"/>
                        <text x="550" y="155" text-anchor="middle" class="region-label">⚡</text>
                        <text x="550" y="190" text-anchor="middle" class="region-name">Stormspire Temple</text>

                        <!-- Verdant Outskirts -->
                        <circle cx="150" cy="250" r="30" class="region allied"/>
                        <text x="150" y="255" text-anchor="middle" class="region-label">🌲</text>
                        <text x="150" y="290" text-anchor="middle" class="region-name">Verdant Outskirts</text>

                        <!-- Ashen Ramparts -->
                        <circle cx="550" cy="250" r="35" class="region veilbreak"/>
                        <text x="550" y="255" text-anchor="middle" class="region-label">🏰</text>
                        <text x="550" y="295" text-anchor="middle" class="region-name">Ashen Ramparts</text>

                        <!-- Veilborn Way -->
                        <circle cx="150" cy="400" r="30" class="region contested"/>
                        <text x="150" y="405" text-anchor="middle" class="region-label">🌫️</text>
                        <text x="150" y="440" text-anchor="middle" class="region-name">Veilborn Way</text>

                        <!-- Embershroud Basilica -->
                        <circle cx="550" cy="400" r="30" class="region neutral"/>
                        <text x="550" y="405" text-anchor="middle" class="region-label">🔥</text>
                        <text x="550" y="440" text-anchor="middle" class="region-name">Embershroud Basilica</text>
                    </g>

                    <!-- Influence Zone Display Area -->
                    <g class="influence-zones" opacity="0.3">
                        <!-- Auric Influence Zone -->
                        <circle cx="150" cy="150" r="80" fill="#FFD700" class="influence-zone auric"/>

                        <!-- Veilbreak Influence Zone -->
                        <circle cx="550" cy="250" r="70" fill="#8A2BE2" class="influence-zone veilbreak"/>

                        <!-- Allied Region -->
                        <circle cx="150" cy="250" r="60" fill="#32CD32" class="influence-zone allied"/>
                    </g>

                    <!-- Legend -->
                    <g class="legend" transform="translate(700, 50)">
                        <rect x="0" y="0" width="180" height="200" fill="#2a2a3e" stroke="#555" rx="5"/>
                        <text x="10" y="20" class="legend-title">Faction Legend</text>

                        <!-- Faction Icons -->
                        <circle cx="20" cy="40" r="8" class="region auric"/>
                        <text x="35" y="45" class="legend-text">🌟 Auric Covenant</text>

                        <circle cx="20" cy="60" r="8" class="region veilbreak"/>
                        <text x="35" y="65" class="legend-text">⚡ Veilbreak Sentinels</text>

                        <circle cx="20" cy="80" r="8" class="region allied"/>
                        <text x="35" y="85" class="legend-text">🌲 Allied Region</text>

                        <circle cx="20" cy="100" r="8" class="region neutral"/>
                        <text x="35" y="105" class="legend-text">🏛️ Neutral Temple</text>

                        <circle cx="20" cy="120" r="8" class="region contested"/>
                        <text x="35" y="125" class="legend-text">⚔️ Contested Zone</text>

                    </g>

                </svg>
            </div>
        </section>

        <!-- Regional Details -->
        <section id="region-details" class="card">
            <h3>📊 Regions</h3>
            <div class="region-grid">
                <div class="region-card auric" data-region="moonweave">
                    <div class="region-header">
                        <h3>💰 Moonweave Crossroads</h3>
                        <span class="region-type">Trade City</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 2 | <strong>Controlling Faction:</strong> <span class="faction auric">Auric Covenant</span> (Influence: 6)</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="solace">Solace Sanctum</span>,
                            <span class="location" data-region="verdant">Verdant Outskirts</span>,
                            <span class="location" data-region="ashen">Ashen Ramparts</span>
                        </p>
                        <p><strong>Resources:</strong> Market Stalls、Pilgrim Hostelry</p>
                        <p><strong>Special Effects:</strong> <span class="spell" data-type="ritual">Ritual Focus Bonus</span></p>
                        <p><strong>Strategic Value:</strong> Transportation hub to the three temples, economic and religious center</p>
                    </div>
                </div>

                <div class="region-card neutral" data-region="solace">
                    <div class="region-header">
                        <h3>🏛️ Solace Sanctum</h3>
                        <span class="region-type">Temple – Triple‑Light First Temple</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 1 | <strong>Controlling Faction:</strong> Neutral</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="moonweave">Moonweave Crossroads</span>,
                            <span class="location" data-region="stormspire">Stormspire Temple</span>
                        </p>
                        <p><strong>Resources:</strong> <span class="resource" data-type="sacred">Sun‑Fire Altar</span></p>
                        <p><strong>Special Effects:</strong> <span class="spell" data-type="prayer">Prayer Resonance</span></p>
                        <p><strong>Strategic Value:</strong> Ritual starting point, Solace guardian effect</p>
                    </div>
                </div>

                <div class="region-card neutral" data-region="stormspire">
                    <div class="region-header">
                        <h3>⚔️ Stormspire Temple</h3>
                        <span class="region-type">Temple – Triple‑Light Third Temple</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 1 | <strong>Controlling Faction:</strong> Neutral</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="solace">Solace Sanctum</span>,
                            <span class="location" data-region="embershroud">Embershroud Basilica</span>,
                            <span class="location" data-region="ashen">Ashen Ramparts</span>
                        </p>
                        <p><strong>Resources:</strong> <span class="resource" data-type="storm">Storm‑Marked Obelisk</span></p>
                        <p><strong>Special Effects:</strong> <span class="spell" data-type="barrier">Aerial Ward</span></p>
                        <p><strong>Strategic Value:</strong> Final battle stage, lightning trial ground</p>
                    </div>
                </div>

                <div class="region-card neutral" data-region="embershroud">
                    <div class="region-header">
                        <h3>🔥 Embershroud Basilica</h3>
                        <span class="region-type">Temple – Triple‑Light Second Temple</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 1 | <strong>Controlling Faction:</strong> Neutral</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="stormspire">Stormspire Temple</span>,
                            <span class="location" data-region="veilborn">Veilborn Way</span>
                        </p>
                        <p><strong>Resources:</strong> <span class="resource" data-type="fire">Flamewell</span></p>
                        <p><strong>Special Effects:</strong> <span class="spell" data-type="fire">Veil‑Burn Ward</span>, <span class="spell" data-type="earth">Leyline Tremor</span></p>
                        <p><strong>Strategic Value:</strong> Fire trial ground, leyline amplification effect</p>
                    </div>
                </div>

                <div class="region-card veilbreak" data-region="ashen">
                    <div class="region-header">
                        <h3>🏰 Ashen Ramparts</h3>
                        <span class="region-type">Military Fortress</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 2 | <strong>Controlling Faction:</strong> <span class="faction veilbreak">Veilbreak Sentinels</span> (Influence: 7)</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="moonweave">Moonweave Crossroads</span>,
                            <span class="location" data-region="stormspire">Stormspire Temple</span>,
                            <span class="location" data-region="veilborn">Veilborn Way</span>
                        </p>
                        <p><strong>Resources:</strong> <span class="resource" data-type="weapon">Siege Engines</span></p>
                        <p><strong>Special Effects:</strong> <span class="tactic" data-type="defense">Fortified Gates</span></p>
                        <p><strong>Strategic Value:</strong> Military stronghold, blockade base against temple clusters</p>
                    </div>
                </div>

                <div class="region-card allied" data-region="verdant">
                    <div class="region-header">
                        <h3>🌲 Verdant Outskirts</h3>
                        <span class="region-type">Forest</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 2 | <strong>Controlling Faction:</strong> Neutral (<span class="faction auric">Covenant‑Allied</span>)</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="moonweave">Moonweave Crossroads</span>,
                            <span class="location" data-region="veilborn">Veilborn Way</span>
                        </p>
                        <p><strong>Resources:</strong> Herb Groves、Hidden Paths、<span class="resource" data-type="magic">Lumen‑Spore Beacon</span></p>
                        <p><strong>Special Effects:</strong> <span class="tactic" data-type="stealth">Stealth Routes</span>, Twilight Guides</p>
                        <p><strong>Strategic Value:</strong> Detour route security, supply and intelligence support</p>
                    </div>
                </div>

                <div class="region-card contested" data-region="veilborn">
                    <div class="region-header">
                        <h3>🌫️ Veilborn Way</h3>
                        <span class="region-type">Ancient Ruins</span>
                    </div>
                    <div class="region-info">
                        <p><strong>Capacity:</strong> 2 | <strong>Controlling Faction:</strong> Neutral (Contested)</p>
                        <p><strong>Adjacent Regions:</strong>
                            <span class="location" data-region="ashen">Ashen Ramparts</span>,
                            <span class="location" data-region="embershroud">Embershroud Basilica</span>,
                            <span class="location" data-region="verdant">Verdant Outskirts</span>
                        </p>
                        <p><strong>Resources:</strong> <span class="resource" data-type="magic">Ley Shards</span></p>
                        <p><strong>Special Effects:</strong> <span class="tactic" data-type="sabotage">Sabotage Route</span></p>
                        <p><strong>Strategic Value:</strong> Strategic stronghold, shadow snare deployment zone</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Transportation & Supply Lines -->
        <section id="supply-lines" class="card">
            <h3>🛤️ Routes & Supply Lines</h3>
            <div class="supply-lines-grid">
                <div class="supply-route">
                    <h4>🛤️ Major Roads</h4>
                    <ul>
                        <li><strong>Northern Axis</strong>: Ashen Ramparts ↔ Sunken Hold ↔ Cliffwaters</li>
                        <li><strong>Central Axis</strong>: Moonweave Crossroads ↔ Mistwood Shade ↔ Thornhenge</li>
                        <li><strong>Eastern Axis</strong>: Moonweave Crossroads ↔ Cliffwaters ↔ Thornhenge</li>
                        <li><strong>Sacred Route</strong>: Solace Sanctum ↔ Embershroud Basilica ↔ Stormspire Temple</li>
                    </ul>
                </div>

                <div class="supply-vulnerabilities">
                    <h4>🔮 Supply Vulnerabilities</h4>
                    <div class="vulnerability-item">
                        <strong>Moonweave Crossroads</strong>: Critical junction where all faction supply lines intersect
                    </div>
                    <div class="vulnerability-item">
                        <strong>Mistwood Shade</strong>: Junction to detour routes and mist roads, strategic stronghold
                    </div>
                    <div class="vulnerability-item">
                        <strong>Ashen Ramparts</strong>: Sentinel stronghold, threat source to supply lines
                    </div>
                </div>
            </div>
        </section>

        <!-- Key Event Sites -->
        <section id="event-locations" class="card">
            <h3>🌟 Key Event Sites</h3>
            <div class="events-timeline">
                <div class="event-location">
                    <h4>🌅 Turn 2: Canto I – Prayer of Solace</h4>
                    <div class="event-details">
                        <p><strong>Location</strong>: Solace Sanctum</p>
                        <p><strong>Event</strong>: First canto invoked</p>
                        <p><strong>Outcome</strong>: Ritual progress 1/3; bypass discovered</p>
                    </div>
                </div>

                <div class="event-location">
                    <h4>🌫️ Turn 3: Pact with the Twilight Guides</h4>
                    <div class="event-details">
                        <p><strong>Location</strong>: Mistwood Shade</p>
                        <p><strong>Event</strong>: Alliance with the guides of the mist‑wood</p>
                        <p><strong>Outcome</strong>: Safe passage rights through mist‑roads</p>
                    </div>
                </div>

                <div class="event-location">
                    <h4>🔥 Turn 10: Canto II – Trial of Flames</h4>
                    <div class="event-details">
                        <p><strong>Location</strong>: Embershroud Basilica</p>
                        <p><strong>Event</strong>: Sentinel assault repelled by wards</p>
                        <p><strong>Outcome</strong>: Canto II complete; ritual progress 2/3</p>
                    </div>
                </div>

                <div class="event-location">
                    <h4>⚡ Turn 14: Canto III – Storm Barrier</h4>
                    <div class="event-details">
                        <p><strong>Location</strong>: Stormspire Temple</p>
                        <p><strong>Event</strong>: Triple‑Light completed; final battle</p>
                        <p><strong>Outcome</strong>: Victory of Light; Sacred Covenant established</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Strategic Takeaways -->
        <section id="strategic-points" class="card">
            <h3>🎯 Strategic Takeaways</h3>
            <div class="strategic-grid">
                <div class="strategic-point priority-high">
                    <div class="priority-icon">🌟</div>
                    <div class="point-content">
                        <h4>Key to Victory</h4>
                        <p>Complete the Triple‑Light rite</p>
                    </div>
                </div>

                <div class="strategic-point priority-high">
                    <div class="priority-icon">🛤️</div>
                    <div class="point-content">
                        <h4>Route Control</h4>
                        <p>Hold Moonweave Crossroads</p>
                    </div>
                </div>

                <div class="strategic-point priority-medium">
                    <div class="priority-icon">🌫️</div>
                    <div class="point-content">
                        <h4>Flanking Strategy</h4>
                        <p>Exploit the Mistwood Shade routes</p>
                    </div>
                </div>

                <div class="strategic-point priority-medium">
                    <div class="priority-icon">🔮</div>
                    <div class="point-content">
                        <h4>Temple Defense</h4>
                        <p>Prevent interference at the three temples</p>
                    </div>
                </div>

                <div class="strategic-point priority-low">
                    <div class="priority-icon">⚔️</div>
                    <div class="point-content">
                        <h4>Disruption Ops</h4>
                        <p>Sentinel operations to disrupt rites</p>
                    </div>
                </div>

                <div class="strategic-point priority-low">
                    <div class="priority-icon">🤝</div>
                    <div class="point-content">
                        <h4>Diplomatic Balance</h4>
                        <p>Maintain alliance with the Guides</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer style="text-align: center; padding: 2rem; color: #888; border-top: 1px solid #444; margin-top: 3rem;">
        <p>Triple‑Light Linked Ring – World Map</p>
        <p>📖 <a href="index.html" style="color: #87CEEB;">Dashboard</a> | 📖 <a href="narrative.html" style="color: #87CEEB;">Narrative</a> | 📊 <a href="playlog.html" style="color: #87CEEB;">Playlog</a></p>
    </footer>

    <script src="data.js"></script>
    <script>
        // Remove turn selector functionality as it doesn't exist in this version
        // document.getElementById('turnSelect').addEventListener('change', function() {
        //     const turnNum = this.value;
        //     if (turnNum) {
        //         sessionStorage.setItem('selectedTurn', turnNum);
        //         window.location.href = `narrative.html#turn-${turnNum}`;
        //     }
        // });

        // Simple static map - no interactive features
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Simplified static world map loaded');
        });
    </script>
</body>
</html>