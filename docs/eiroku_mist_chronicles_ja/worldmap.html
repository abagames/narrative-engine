<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ°¸ç¦„ã®éœ§æˆ¦è¨˜ - World Map</title>
    <link rel="stylesheet" href="style.css">
    <script src="data.js"></script>
</head>
<body>
    <!-- Header Navigation -->
    <header class="main-header">
      <div class="container">
        <nav class="main-nav">
          <a href="index.html">ğŸ  Dashboard</a>
          <a href="narrative.html">ğŸ“– Narrative</a>
          <a href="playlog.html">ğŸ“Š Playlog</a>
          <a href="worldmap.html" class="active">ğŸ—ºï¸ World Map</a>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Campaign Overview -->
        <section class="campaign-overview">
            <h1>ğŸ—ºï¸ æ°¸ç¦„ã®éœ§æˆ¦è¨˜ - World Map</h1>
            <p class="subtitle">åœ°ç†æƒ…å ±ã¨å‹¢åŠ›åœã®å¤‰é·<br>
            å„åœ°åŸŸã®æˆ¦ç•¥ä¾¡å€¤ã¨æ”¯é…çŠ¶æ³ã‚’ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒãƒƒãƒ—ã§è¡¨ç¤º</p>
        </section>

        <!-- ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ä¸–ç•Œãƒãƒƒãƒ— -->
        <section id="interactive-map" class="card">
            <h2>ğŸ—ºï¸ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–åœ°åŸŸé…ç½®å›³</h2>
            <div class="map-container">
                <svg width="100%" height="600" viewBox="0 0 900 600" class="world-map-svg">
                    <!-- èƒŒæ™¯ -->
                    <rect width="900" height="600" fill="#1a1a2e" stroke="none"/>

                    <!-- æ¥ç¶šç·š -->
                    <g class="connections" stroke="#444" stroke-width="2" fill="none">
                        <!-- Koga to Ise -->
                        <line x1="400" y1="150" x2="200" y2="250" class="connection"/>
                        <!-- Ise to Kyoto -->
                        <line x1="200" y1="250" x2="400" y2="300" class="connection"/>
                        <!-- Kyoto to Edo -->
                        <line x1="400" y1="300" x2="650" y2="200" class="connection"/>
                        <!-- Koga to Kumano -->
                        <line x1="400" y1="150" x2="300" y2="400" class="connection"/>
                        <!-- Kumano to Kyoto -->
                        <line x1="300" y1="400" x2="400" y2="300" class="connection"/>
                        <!-- Kumano to Sakurai -->
                        <line x1="300" y1="400" x2="500" y2="450" class="connection"/>
                        <!-- Edo to Azuchi -->
                        <line x1="650" y1="200" x2="550" y2="350" class="connection"/>
                        <!-- Azuchi to Sakurai -->
                        <line x1="550" y1="350" x2="500" y2="450" class="connection"/>
                    </g>

                    <!-- åœ°åŸŸãƒãƒ¼ãƒ‰ -->
                    <g class="regions">
                        <!-- Ise Shadow Vale -->
                        <g class="region-group">
                            <circle cx="200" cy="250" r="40" class="region shadow_gale" data-region="ise_shadow_vale"/>
                            <text x="200" y="225" text-anchor="middle" class="region-label">ğŸŒ²</text>
                            <text x="200" y="280" text-anchor="middle" class="region-name">ä¼Šå‹¢å½±ãƒ¶æ·µ</text>
                        </g>

                        <!-- Koga Mist Forest -->
                        <g class="region-group">
                            <circle cx="400" cy="150" r="35" class="region neutral" data-region="koga_mist_forest"/>
                            <text x="400" y="130" text-anchor="middle" class="region-label">ğŸ”ï¸</text>
                            <text x="400" y="185" text-anchor="middle" class="region-name">ç”²è³€æœ§æ—</text>
                        </g>

                        <!-- Kumano Spirit Shrine -->
                        <g class="region-group">
                            <circle cx="300" cy="400" r="40" class="region moonlit_onmyo" data-region="kumano_spirit_shrine"/>
                            <text x="300" y="375" text-anchor="middle" class="region-label">ğŸ¯</text>
                            <text x="300" y="435" text-anchor="middle" class="region-name">ç†Šé‡éœŠå³°ç¤¾</text>
                        </g>

                        <!-- Kyoto Arcane Quarter -->
                        <g class="region-group">
                            <circle cx="400" cy="300" r="45" class="region contested" data-region="kyoto_arcane_quarter"/>
                            <text x="400" y="275" text-anchor="middle" class="region-label">ğŸ›ï¸</text>
                            <text x="400" y="340" text-anchor="middle" class="region-name">äº¬æ´›è¡“é™¢åŒº</text>
                        </g>

                        <!-- Edo Arsenal Dock -->
                        <g class="region-group">
                            <circle cx="650" cy="200" r="40" class="region silver_dutch" data-region="edo_arsenal_dock"/>
                            <text x="650" y="175" text-anchor="middle" class="region-label">ğŸš¢</text>
                            <text x="650" y="235" text-anchor="middle" class="region-name">æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ </text>
                        </g>

                        <!-- Azuchi Clockwork Foundry -->
                        <g class="region-group">
                            <circle cx="550" cy="350" r="35" class="region silver_dutch" data-region="azuchi_clockwork_foundry"/>
                            <text x="550" y="330" text-anchor="middle" class="region-label">âš™ï¸</text>
                            <text x="550" y="385" text-anchor="middle" class="region-name">å®‰åœŸæ©Ÿå·§ç‚‰</text>
                        </g>

                        <!-- Sakurai Dueling Fields -->
                        <g class="region-group">
                            <circle cx="500" cy="450" r="40" class="region crimson_blade" data-region="sakurai_dueling_fields"/>
                            <text x="500" y="425" text-anchor="middle" class="region-label">ğŸ—¾</text>
                            <text x="500" y="485" text-anchor="middle" class="region-name">æ¡œäº•è©¦åˆåŸ</text>
                        </g>
                    </g>

                    <!-- å‹¢åŠ›åœè¡¨ç¤ºã‚¨ãƒªã‚¢ -->
                    <g class="influence-zones" opacity="0.3">
                        <!-- å½±é¢¶ã®è¡†å‹¢åŠ›åœ -->
                        <circle cx="200" cy="250" r="80" fill="#2C3E50" class="influence-zone shadow_gale"/>

                        <!-- æœˆå½±é™°é™½å¯®å‹¢åŠ›åœ -->
                        <circle cx="300" cy="400" r="70" fill="#663399" class="influence-zone moonlit_onmyo"/>

                        <!-- ç´…åˆƒå…ˆé‹’éšŠå‹¢åŠ›åœ -->
                        <circle cx="500" cy="450" r="70" fill="#DC3545" class="influence-zone crimson_blade"/>

                        <!-- éŠ€è˜­æ©Ÿå·§é™¢å‹¢åŠ›åœ -->
                        <circle cx="600" cy="275" r="90" fill="#17A2B8" class="influence-zone silver_dutch"/>
                    </g>

                    <!-- å‡¡ä¾‹ -->
                    <g class="legend" transform="translate(710, 380)">
                        <rect x="0" y="0" width="180" height="200" fill="#2a2a3e" stroke="#555" rx="5"/>
                        <text x="10" y="20" class="legend-title">å‹¢åŠ›åˆ†å¸ƒ</text>

                        <!-- å‹¢åŠ›ã‚¢ã‚¤ã‚³ãƒ³ -->
                        <circle cx="20" cy="40" r="8" class="region shadow_gale"/>
                        <text x="35" y="45" class="legend-text">ğŸŒ«ï¸ å½±é¢¶ã®è¡†</text>

                        <circle cx="20" cy="60" r="8" class="region moonlit_onmyo"/>
                        <text x="35" y="65" class="legend-text">ğŸŒ™ æœˆå½±é™°é™½å¯®</text>

                        <circle cx="20" cy="80" r="8" class="region crimson_blade"/>
                        <text x="35" y="85" class="legend-text">âš”ï¸ ç´…åˆƒå…ˆé‹’éšŠ</text>

                        <circle cx="20" cy="100" r="8" class="region silver_dutch"/>
                        <text x="35" y="105" class="legend-text">âš™ï¸ éŠ€è˜­æ©Ÿå·§é™¢</text>

                        <circle cx="20" cy="120" r="8" class="region contested"/>
                        <text x="35" y="125" class="legend-text">ğŸ›ï¸ ä¿‚äº‰åœ°</text>

                        <circle cx="20" cy="140" r="8" class="region neutral"/>
                        <text x="35" y="145" class="legend-text">ğŸ—» ä¸­ç«‹åœ°åŸŸ</text>

                        <text x="10" y="170" class="legend-subtitle">æ“ä½œæ–¹æ³•</text>
                        <text x="10" y="185" class="legend-small">åœ°åŸŸã‚’ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°è¡¨ç¤º</text>
                    </g>

                    <!-- åœ°åŸŸè©³ç´°æƒ…å ± -->
                    <g class="region-detail-panel" transform="translate(700, 50)">
                        <rect x="0" y="0" width="180" height="320" fill="#2a2a3e" stroke="#FFD700" stroke-width="2" rx="5"/>
                        <text x="10" y="20" class="legend-title" id="svg-region-title">ğŸ“ åœ°åŸŸã‚’é¸æŠ</text>
                        <foreignObject x="10" y="30" width="160" height="280">
                            <div xmlns="http://www.w3.org/1999/xhtml" id="svg-region-info" style="color: #E0E0E0; font-size: 11px; line-height: 1.3;">
                                <p style="margin: 5px 0; color: #A0A0A0;">åœ°åŸŸã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦è©³ç´°ã‚’è¡¨ç¤º</p>
                            </div>
                        </foreignObject>
                    </g>
                </svg>
            </div>
        </section>


        <!-- Faction Control Grid -->
        <section class="card">
            <h2>ğŸ‘‘ å‹¢åŠ›åœåˆ†æ</h2>
            <div class="faction-control-grid">
                <div class="faction-control shadow_gale">
                    <h3>ğŸŒ«ï¸ å½±é¢¶ã®è¡†</h3>
                    <div class="control-details">
                        <p><strong>ğŸ  æœ¬æ‹ åœ°</strong>: ä¼Šå‹¢å½±ãƒ¶æ·µ</p>
                        <p><strong>ğŸ¯ ä¾µæ”»ç›®æ¨™</strong>: äº¬æ´›è¡“é™¢åŒºï¼ˆæœå»·å½±éŸ¿åŠ›ç²å¾—ï¼‰</p>
                        <p><strong>ğŸ›¡ï¸ æˆ¦ç•¥</strong>: éœ§ã‚’åˆ©ç”¨ã—ãŸè«œå ±æˆ¦ã€ç”²è³€æœ§æ—ã§ã®å½±é“æ§‹ç¯‰</p>
                    </div>
                    <div class="controlled-regions">
                        <h4>æ”¯é…åœ°åŸŸ</h4>
                        <div class="region-tag shadow_gale">ä¼Šå‹¢å½±ãƒ¶æ·µ (å½±éŸ¿åŠ›: 62)</div>
                        <div class="region-tag neutral">ç”²è³€æœ§æ— (æœ€çµ‚æ’¤é€€åœ°)</div>
                    </div>
                </div>

                <div class="faction-control moonlit_onmyo">
                    <h3>ğŸŒ™ æœˆå½±é™°é™½å¯®</h3>
                    <div class="control-details">
                        <p><strong>ğŸ  æœ¬æ‹ åœ°</strong>: ç†Šé‡éœŠå³°ç¤¾</p>
                        <p><strong>ğŸ¯ æ”¿æ²»ç›®æ¨™</strong>: äº¬æ´›è¡“é™¢åŒºï¼ˆè­·ç¬¦ç®¡ç†æ¨©ç¢ºç«‹ï¼‰</p>
                        <p><strong>ğŸ›¡ï¸ æˆ¦ç•¥</strong>: éœŠè„ˆãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ã‚ˆã‚‹é éš”æ”¯æ´ã€æœå»·ã¨ã®é€£æº</p>
                    </div>
                    <div class="controlled-regions">
                        <h4>æ”¯é…åœ°åŸŸ</h4>
                        <div class="region-tag moonlit_onmyo">ç†Šé‡éœŠå³°ç¤¾ (å½±éŸ¿åŠ›: 58)</div>
                        <div class="region-tag contested">äº¬æ´›è¡“é™¢åŒº (å½±éŸ¿åŠ›: 22)</div>
                    </div>
                </div>

                <div class="faction-control crimson_blade">
                    <h3>âš”ï¸ ç´…åˆƒå…ˆé‹’éšŠ</h3>
                    <div class="control-details">
                        <p><strong>ğŸ  æœ¬æ‹ åœ°</strong>: æ¡œäº•è©¦åˆåŸ</p>
                        <p><strong>ğŸ¯ é˜²è¡›ç›®æ¨™</strong>: äº¬æ´›ã€œå®‰åœŸã€œæ±Ÿæˆ¸ã®è£œçµ¦ç·šç¢ºä¿</p>
                        <p><strong>ğŸ›¡ï¸ æˆ¦ç•¥</strong>: æ©Ÿå‹•åŠ›ã‚’æ´»ã‹ã—ãŸæ§é¨å…µæˆ¦è¡“ã€å¸å‹…è­·è¡›</p>
                    </div>
                    <div class="controlled-regions">
                        <h4>æ”¯é…åœ°åŸŸ</h4>
                        <div class="region-tag crimson_blade">æ¡œäº•è©¦åˆåŸ (å½±éŸ¿åŠ›: 61)</div>
                    </div>
                </div>

                <div class="faction-control silver_dutch">
                    <h3>âš™ï¸ éŠ€è˜­æ©Ÿå·§é™¢</h3>
                    <div class="control-details">
                        <p><strong>ğŸ  æœ¬æ‹ åœ°</strong>: æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ </p>
                        <p><strong>ğŸ¯ æŠ€è¡“ç›®æ¨™</strong>: å®‰åœŸæ©Ÿå·§ç‚‰ï¼ˆé›è¡Œç ²å®Ÿç”¨åŒ–ï¼‰</p>
                        <p><strong>ğŸ›¡ï¸ æˆ¦ç•¥</strong>: è¥¿æ´‹æŠ€è¡“ã¨è­·ç¬¦ã®èåˆã€æµ·ä¸Šè£œçµ¦ç·šç¶­æŒ</p>
                    </div>
                    <div class="controlled-regions">
                        <h4>æ”¯é…åœ°åŸŸ</h4>
                        <div class="region-tag silver_dutch">æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸  (å½±éŸ¿åŠ›: 65)</div>
                        <div class="region-tag silver_dutch">å®‰åœŸæ©Ÿå·§ç‚‰ (å½±éŸ¿åŠ›: 18)</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Supply Lines -->
        <section class="card">
            <h2>ğŸ›¤ï¸ äº¤é€šãƒ»è£œçµ¦è·¯åˆ†æ</h2>
            <div class="supply-lines-grid">
                <div class="supply-route">
                    <h3>ä¸»è¦è¡—é“</h3>
                    <div class="route-item">
                        <h4>ğŸ›ï¸ äº¬æ´›è¡—é“</h4>
                        <p>ä¼Šå‹¢å½±ãƒ¶æ·µ â†” äº¬æ´›è¡“é™¢åŒº â†” æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ </p>
                        <p>æ”¿æ²»ãƒ»è²¿æ˜“ã®å¤§å‹•è„ˆã€‚å½±é¢¶ã¨éŠ€è˜­ã®å¯¾ç«‹è»¸</p>
                    </div>
                    <div class="route-item">
                        <h4>ğŸ¯ éœŠå³°è¡—é“</h4>
                        <p>ç”²è³€æœ§æ— â†” ç†Šé‡éœŠå³°ç¤¾ â†” æ¡œäº•è©¦åˆåŸ</p>
                        <p>éœŠçš„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¨æ­¦è¡“è¨“ç·´ã®é€£æºè·¯ç·š</p>
                    </div>
                    <div class="route-item">
                        <h4>âš™ï¸ æ©Ÿå·§è¡—é“</h4>
                        <p>æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸  â†” å®‰åœŸæ©Ÿå·§ç‚‰ â†” æ¡œäº•è©¦åˆåŸ</p>
                        <p>æŠ€è¡“é©æ–°ã¨è»äº‹é˜²è¡›ã®æˆ¦ç•¥è·¯ç·š</p>
                    </div>
                </div>

                <div class="supply-vulnerabilities">
                    <h3>è£œçµ¦ç·šè„†å¼±æ€§</h3>
                    <div class="vulnerability-item">
                        <h4>ğŸ›ï¸ äº¬æ´›è¡“é™¢åŒº</h4>
                        <p>å››æ–¹å‘ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã§é˜²å¾¡å›°é›£ã€æ”¿æ²»çš„ä¸­ç«‹æ€§å¿…é ˆ</p>
                    </div>
                    <div class="vulnerability-item">
                        <h4>âš™ï¸ å®‰åœŸæ©Ÿå·§ç‚‰</h4>
                        <p>æŠ€è¡“è³‡æºã®é›†ä¸­ã«ã‚ˆã‚Šå¥ªå–ä¾¡å€¤é«˜ã€ç…™å¹•ã§è¦–ç•Œåˆ¶é™</p>
                    </div>
                    <div class="vulnerability-item">
                        <h4>ğŸ”ï¸ ç”²è³€æœ§æ—</h4>
                        <p>ä¸­ç«‹åœ°åŸŸã ãŒå½±é“ã®è¦è¡ã€éœ§ã«ã‚ˆã‚‹éš è”½åŠ¹æœ</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Strategic Points -->
        <section class="card">
            <h2>ğŸ¯ æˆ¦ç•¥è¦è¡ã¾ã¨ã‚</h2>
            <div class="strategic-grid">
                <div class="strategic-point priority-high">
                    <div class="priority-icon">ğŸ†</div>
                    <div class="point-content">
                        <h4>å‹åˆ©ã¸ã®éµ</h4>
                        <p>äº¬æ´›è¡“é™¢åŒºã®æ”¿æ²»çš„æ”¯é…æ¨©</p>
                    </div>
                </div>

                <div class="strategic-point priority-medium">
                    <div class="priority-icon">ğŸ’°</div>
                    <div class="point-content">
                        <h4>çµŒæ¸ˆæ”¯é…</h4>
                        <p>æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ ã®è²¿æ˜“ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</p>
                    </div>
                </div>

                <div class="strategic-point priority-medium">
                    <div class="priority-icon">ğŸ”®</div>
                    <div class="point-content">
                        <h4>æŠ€è¡“å„ªä½</h4>
                        <p>å®‰åœŸæ©Ÿå·§ç‚‰ã®é›è¡Œç ²æŠ€è¡“</p>
                    </div>
                </div>

                <div class="strategic-point priority-low">
                    <div class="priority-icon">ğŸ‘¤</div>
                    <div class="point-content">
                        <h4>è«œå ±åˆ¶åœ§</h4>
                        <p>ç”²è³€æœ§æ—ã®å½±é“ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯</p>
                    </div>
                </div>

                <div class="strategic-point priority-low">
                    <div class="priority-icon">ğŸ›ï¸</div>
                    <div class="point-content">
                        <h4>ç²¾ç¥çš„æ¨©å¨</h4>
                        <p>ç†Šé‡éœŠå³°ç¤¾ã®éœŠçš„æ­£çµ±æ€§</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Historical Events by Location -->
        <section class="card">
            <h2>ğŸ­ é‡è¦äº‹ä»¶ç™ºç”Ÿåœ°</h2>

            <div class="event-location">
                <h3>ğŸ“ äº¬æ´›è¡“é™¢åŒº</h3>
                <div class="event-details">
                    <p><strong>T1-5</strong>: æ¿ƒéœ§ä¸­ã®çµç•Œæ”»é˜²æˆ¦ã€å½±é¢¶vsé™°é™½å¯®ã®è«œå ±æˆ¦</p>
                    <p><strong>T6-10</strong>: å¸å‹…æ±ºé—˜å ´è¨­å–¶ã€å››å‹¢åŠ›å¤§ä¹±æˆ¦ã®èˆå°</p>
                    <p><strong>T11-15</strong>: ç¥­ç¤¼å‰å¤œæ½œå…¥æˆ¦ã€æŠ€è¡“ç·åˆæˆ¦</p>
                </div>
            </div>

            <div class="event-location">
                <h3>ğŸ“ æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ </h3>
                <div class="event-details">
                    <p><strong>T1-5</strong>: ç«è–¬å°é–çªç ´ã€å°é¢¨ä¸­ã®å¸³ç°¿å·¥ä½œ</p>
                    <p><strong>T16-20</strong>: å°é¢¨æ¼”ç¿’â†’å¾¡å‰æ±ºæˆ¦ã€æ°¸ç¦„ä¹±ä¸–ã®æ±ºç€åœ°</p>
                </div>
            </div>

            <div class="event-location">
                <h3>ğŸ“ å®‰åœŸæ©Ÿå·§ç‚‰</h3>
                <div class="event-details">
                    <p><strong>T1-5</strong>: é›è¡Œç ²å›³é¢ç™ºè¦‹ã€ç´…åˆƒvséŠ€è˜­ã®æŠ€è¡“äº‰å¥ªæˆ¦</p>
                </div>
            </div>

            <div class="event-location">
                <h3>ğŸ“ æ¡œäº•è©¦åˆåŸ</h3>
                <div class="event-details">
                    <p><strong>T11-15</strong>: è£œçµ¦åˆ—è¥²æ’ƒã€æ˜¼é–“æ±ºæˆ¦ã®æ¿€æˆ¦åœ°</p>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <p>æ°¸ç¦„ã®éœ§æˆ¦è¨˜ - Eiroku Mist Chronicles | ãƒŠãƒ©ãƒ†ã‚£ãƒ–TRPGã‚­ãƒ£ãƒ³ãƒšãƒ¼ãƒ³è¨˜éŒ²</p>
    </footer>

    <script>
        // åœ°åŸŸãƒ‡ãƒ¼ã‚¿
        const regionData = {
            ise_shadow_vale: {
                name: "ä¼Šå‹¢å½±ãƒ¶æ·µ",
                type: "æ£®æ—",
                capacity: 2,
                faction: "shadow_gale",
                adjacentAreas: ["ç”²è³€æœ§æ—", "äº¬æ´›è¡“é™¢åŒº"],
                resources: "å½±è“®ã€çµ¹å¥‘ç´„æ›¸",
                specialEffect: "å¤œå¸³: éš å¯†åˆ¤å®š+2ã€éœ§æ²¼: ç§»å‹•ã‚³ã‚¹ãƒˆ+1",
                controlledBy: "å½±é¢¶ã®è¡† (å½±éŸ¿åŠ›: 62)",
                strategicValue: "å¿è¡“ã®è–åœ°ã€äº¬æ´›ã¸ã®éš å¯†ä¾µå…¥ãƒ«ãƒ¼ãƒˆ"
            },
            koga_mist_forest: {
                name: "ç”²è³€æœ§æ—",
                type: "éœ§æ—",
                capacity: 3,
                faction: "neutral",
                adjacentAreas: ["ä¼Šå‹¢å½±ãƒ¶æ·µ", "ç†Šé‡éœŠå³°ç¤¾"],
                resources: "çè–¬è‰ã€éœ§çµ¹",
                specialEffect: "éœ§å¹•: æ–¥å€™åˆ¤å®šé›£åŒ–ã€éš ã—é“: ç§˜å¯†çµŒè·¯",
                controlledBy: "ãªã—ï¼ˆæœ€çµ‚æ±ºæˆ¦å¾Œã€å½±é¢¶ã®è¡†æ’¤é€€åœ°ï¼‰",
                strategicValue: "éœ§ã«éš ã‚ŒãŸè£œçµ¦åŸºåœ°ã€å½±é“ã®ä¸­ç¶™ç‚¹"
            },
            kumano_spirit_shrine: {
                name: "ç†Šé‡éœŠå³°ç¤¾",
                type: "ç¥ç¤¾",
                capacity: 2,
                faction: "moonlit_onmyo",
                adjacentAreas: ["ç”²è³€æœ§æ—", "äº¬æ´›è¡“é™¢åŒº", "æ¡œäº•è©¦åˆåŸ"],
                resources: "éœŠç¬¦ã€è–æ°´",
                specialEffect: "éœŠè„ˆ: å¦–è¡“åˆ¤å®š+2ã€ç¥æµ: ç¥è©æˆåŠŸç‡å‘ä¸Š",
                controlledBy: "æœˆå½±é™°é™½å¯® (å½±éŸ¿åŠ›: 58)",
                strategicValue: "é™°é™½é“ã®è–åŸŸã€éœŠçš„ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®ä¸­æ¢"
            },
            kyoto_arcane_quarter: {
                name: "äº¬æ´›è¡“é™¢åŒº",
                type: "éƒ½å¸‚",
                capacity: 4,
                faction: "contested",
                adjacentAreas: ["ä¼Šå‹¢å½±ãƒ¶æ·µ", "ç†Šé‡éœŠå³°ç¤¾", "æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ "],
                resources: "æœˆéŠ€ã€å­¦å•æ›¸ã€æœå»·å½±éŸ¿åŠ›",
                specialEffect: "æœå»·è¬€ç•¥: å¤–äº¤åˆ¤å®š+1ã€ç§˜è¡“å›³æ›¸é¤¨: å¦–è¡“ç ”ç©¶åŠ¹ç‡+2",
                controlledBy: "æœˆå½±é™°é™½å¯® (22)ã€å½±é¢¶ã®è¡† (10)",
                strategicValue: "**å¸éƒ½ã®æ”¿æ²»ä¸­æ¢** - æ±ºé—˜è£å®šã®èˆå°"
            },
            edo_arsenal_dock: {
                name: "æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ ",
                type: "æ¸¯æ¹¾",
                capacity: 3,
                faction: "silver_dutch",
                adjacentAreas: ["äº¬æ´›è¡“é™¢åŒº", "å®‰åœŸæ©Ÿå·§ç‚‰"],
                resources: "é»’è‰²ç«è–¬ã€æ´‹å¼éŠƒã€è²¿æ˜“å¥‘ç´„",
                specialEffect: "æµ·è»è£œçµ¦: è£œçµ¦åŠ¹ç‡+2ã€è¥¿æ´‹æ¥ç¶š: å¤–äº¤äº¤æ¸‰+2",
                controlledBy: "éŠ€è˜­æ©Ÿå·§é™¢ (å½±éŸ¿åŠ›: 65)",
                strategicValue: "è¥¿æ´‹æŠ€è¡“ã®ç„é–¢å£ã€æœ€çµ‚æ±ºæˆ¦ã®èˆå°"
            },
            azuchi_clockwork_foundry: {
                name: "å®‰åœŸæ©Ÿå·§ç‚‰",
                type: "å·¥æ¥­",
                capacity: 3,
                faction: "silver_dutch",
                adjacentAreas: ["æ±Ÿæˆ¸æ­¦å‚™èˆ¹æ¸ ", "æ¡œäº•è©¦åˆåŸ"],
                resources: "æ©Ÿå·§éƒ¨å“ã€ç²¾éŒ¬é‰„",
                specialEffect: "æ­¯è»Šå…±é³´: å·¥å­¦åˆ¤å®š+2ã€ç…™å¹•: è¦–ç•Œ-1",
                controlledBy: "éŠ€è˜­æ©Ÿå·§é™¢ (å½±éŸ¿åŠ›: 18)",
                strategicValue: "é›è¡Œç ²é–‹ç™ºæ‹ ç‚¹ã€æŠ€è¡“é©æ–°ã®ä¸­å¿ƒ"
            },
            sakurai_dueling_fields: {
                name: "æ¡œäº•è©¦åˆåŸ",
                type: "å¹³åŸ",
                capacity: 2,
                faction: "crimson_blade",
                adjacentAreas: ["ç†Šé‡éœŠå³°ç¤¾", "å®‰åœŸæ©Ÿå·§ç‚‰"],
                resources: "æŠ˜ã‚Œé‹¼ã€è¨“ç·´å ´",
                specialEffect: "æ¿€çªç·´æˆ: å‰£è¡“è¨“ç·´æˆåŠŸç‡+2ã€æ——é¢¨: å£«æ°—+1",
                controlledBy: "ç´…åˆƒå…ˆé‹’éšŠ (å½±éŸ¿åŠ›: 61)",
                strategicValue: "æ­¦è¡“ä¿®ç·´ã®è–åœ°ã€å¸éƒ½é˜²è¡›ã®è¦è¡"
            }
        };

        // ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            // åœ°åŸŸã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆcircleè¦ç´ ã¨region-groupä¸¡æ–¹ã«å¯¾å¿œï¼‰
            document.querySelectorAll('.region, .region-group').forEach(element => {
                element.addEventListener('click', function(e) {
                    e.stopPropagation();

                    let regionKey;
                    let regionCircle;

                    if (this.classList.contains('region')) {
                        // circleãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆ
                        regionKey = this.dataset.region;
                        regionCircle = this;
                    } else {
                        // region-groupãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆ
                        regionCircle = this.querySelector('.region');
                        regionKey = regionCircle ? regionCircle.dataset.region : null;
                    }

                    if (regionKey) {
                        showRegionInfo(regionKey);

                        // ã‚¢ã‚¯ãƒ†ã‚£ãƒ–çŠ¶æ…‹ã®æ›´æ–°
                        document.querySelectorAll('.region').forEach(r => r.classList.remove('active'));
                        if (regionCircle) {
                            regionCircle.classList.add('active');
                        }
                    }
                });

                // ãƒ›ãƒãƒ¼ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ
                element.addEventListener('mouseenter', function() {
                    let regionCircle;
                    let regionKey;

                    if (this.classList.contains('region')) {
                        regionCircle = this;
                        regionKey = this.dataset.region;
                    } else {
                        regionCircle = this.querySelector('.region');
                        regionKey = regionCircle ? regionCircle.dataset.region : null;
                    }

                    if (regionCircle && regionKey) {
                        const originalR = regionCircle.getAttribute('r');
                        regionCircle.setAttribute('data-original-r', originalR);
                        regionCircle.setAttribute('r', parseFloat(originalR) * 1.1);

                        // ãƒã‚¦ã‚¹ã‚ªãƒ¼ãƒãƒ¼æ™‚ã®æƒ…å ±è¡¨ç¤º
                        showRegionTooltip(regionKey, regionCircle);
                    }
                });

                element.addEventListener('mouseleave', function() {
                    let regionCircle;

                    if (this.classList.contains('region')) {
                        regionCircle = this;
                    } else {
                        regionCircle = this.querySelector('.region');
                    }

                    if (regionCircle) {
                        const originalR = regionCircle.getAttribute('data-original-r');
                        if (originalR) {
                            regionCircle.setAttribute('r', originalR);
                        }
                    }

                    // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’éè¡¨ç¤º
                    hideRegionTooltip();
                });
            });

            // åˆæœŸè¡¨ç¤º
            showRegionInfo('kyoto_arcane_quarter');
        });

        function showRegionInfo(regionKey) {
            const region = regionData[regionKey];
            const titleDiv = document.getElementById('svg-region-title');
            const infoDiv = document.getElementById('svg-region-info');

            let factionIcon = '';
            switch(region.faction) {
                case 'shadow_gale':
                    factionIcon = 'ğŸŒ«ï¸';
                    break;
                case 'moonlit_onmyo':
                    factionIcon = 'ğŸŒ™';
                    break;
                case 'crimson_blade':
                    factionIcon = 'âš”ï¸';
                    break;
                case 'silver_dutch':
                    factionIcon = 'âš™ï¸';
                    break;
                case 'neutral':
                    factionIcon = 'ğŸ—»';
                    break;
                case 'contested':
                    factionIcon = 'ğŸ›ï¸';
                    break;
            }

            titleDiv.textContent = `${factionIcon} ${region.name}`;

            infoDiv.innerHTML = `
                <p style="margin: 3px 0;"><strong>ã‚¿ã‚¤ãƒ—:</strong><br/>${region.type}</p>
                <p style="margin: 3px 0;"><strong>å®¹é‡:</strong> ${region.capacity}</p>
                <p style="margin: 3px 0;"><strong>éš£æ¥:</strong><br/>${region.adjacentAreas.join(', ')}</p>
                <p style="margin: 3px 0;"><strong>è³‡æº:</strong><br/>${region.resources}</p>
                <p style="margin: 3px 0;"><strong>ç‰¹æ®ŠåŠ¹æœ:</strong><br/>${region.specialEffect}</p>
                <p style="margin: 3px 0;"><strong>æ”¯é…å‹¢åŠ›:</strong><br/>${region.controlledBy}</p>
                <p style="margin: 3px 0; color: #FFD700;"><strong>æˆ¦ç•¥ä¾¡å€¤:</strong><br/>${region.strategicValue}</p>
            `;
        }

        // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—è¡¨ç¤º
        function showRegionTooltip(regionKey, element) {
            const region = regionData[regionKey];
            let tooltip = document.getElementById('region-tooltip');

            if (!tooltip) {
                tooltip = document.createElement('div');
                tooltip.id = 'region-tooltip';
                tooltip.style.cssText = `
                    position: absolute;
                    background: rgba(0, 0, 0, 0.9);
                    color: #E0E0E0;
                    padding: 0.75rem;
                    border-radius: 8px;
                    font-size: 0.8rem;
                    pointer-events: none;
                    z-index: 1000;
                    max-width: 250px;
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    backdrop-filter: blur(10px);
                `;
                document.body.appendChild(tooltip);
            }

            let factionIcon = '';
            switch(region.faction) {
                case 'shadow_gale': factionIcon = 'ğŸŒ«ï¸'; break;
                case 'moonlit_onmyo': factionIcon = 'ğŸŒ™'; break;
                case 'crimson_blade': factionIcon = 'âš”ï¸'; break;
                case 'silver_dutch': factionIcon = 'âš™ï¸'; break;
                case 'neutral': factionIcon = 'ğŸ—»'; break;
                case 'contested': factionIcon = 'ğŸ›ï¸'; break;
            }

            tooltip.innerHTML = `
                <div style="font-weight: bold; margin-bottom: 0.5rem; color: #FFD700;">
                    ${factionIcon} ${region.name}
                </div>
                <div style="margin-bottom: 0.25rem;">
                    <strong>ã‚¿ã‚¤ãƒ—:</strong> ${region.type}
                </div>
                <div style="margin-bottom: 0.25rem;">
                    <strong>æ”¯é…:</strong> ${region.controlledBy}
                </div>
                <div style="margin-bottom: 0.25rem;">
                    <strong>è³‡æº:</strong> ${region.resources}
                </div>
                <div style="color: #87CEEB; font-size: 0.75rem;">
                    ã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°è¡¨ç¤º
                </div>
            `;

            tooltip.style.display = 'block';
        }

        // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—éè¡¨ç¤º
        function hideRegionTooltip() {
            const tooltip = document.getElementById('region-tooltip');
            if (tooltip) {
                tooltip.style.display = 'none';
            }
        }

        // ãƒã‚¦ã‚¹ä½ç½®ã§ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã‚’è¿½å¾“
        document.addEventListener('mousemove', function(e) {
            const tooltip = document.getElementById('region-tooltip');
            if (tooltip && tooltip.style.display === 'block') {
                tooltip.style.left = (e.pageX + 15) + 'px';
                tooltip.style.top = (e.pageY - 10) + 'px';
            }
        });
    </script>
</body>
</html>